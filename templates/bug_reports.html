{% extends 'base.html' %}
{% load static %}

{% block title %}Bug Reports - ProWebSec{% endblock %}

{% block content %}
<section class="page-header">
    <div class="container">
        <h1>Bug Reports</h1>
        <p>Help us improve by reporting any issues you encounter</p>
    </div>
</section>

<section class="contact-content section-shell">
    <div class="container">
        <div class="contact-grid">
            <div class="contact-form-section">
                <h2>Report a Bug</h2>
                <form class="contact-form" action="{% url 'bug_reports' %}" method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="name">Your Name *</label>
                        <input type="text" id="name" name="name" placeholder="Enter your full name" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email Address *</label>
                        <input type="email" id="email" name="email" placeholder="Enter your email address" required>
                    </div>
                    <div class="form-group">
                        <label for="bug_type">Bug Type</label>
                        <select id="bug_type" name="bug_type">
                            <option value="">Select bug type</option>
                            <option value="visual">Visual/UI Issue</option>
                            <option value="functional">Functional Issue</option>
                            <option value="performance">Performance Issue</option>
                            <option value="security">Security Concern</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="page_url">Page URL</label>
                        <select id="page_url" name="page_url">
                            <option value="">Which page has the issue?</option>
                            <option value="Home">Home page</option>
                            <option value="About Us">About Us Page</option>
                            <option value="Services">Services Page</option>
                            <option value="Contact">Contact Page</option>
                            <option value="Pricing">Pricing Page</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="description">Bug Description *</label>
                        <textarea id="description" name="description" rows="6" placeholder="Please describe the issue in detail. Include steps to reproduce if possible." required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="screenshot">Attach Screenshot (optional)</label>
                        <div class="custom-file-upload">
                            <label for="screenshot" class="upload-btn">Choose Screenshot</label>
                            <span id="file-selected">No file chosen</span>
                            <input type="file" id="screenshot" name="screenshot" accept="image/*">
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary btn-block">Submit Bug Report</button>
                </form>
            </div>

            <div class="contact-info-section">
                <h2>Reporting Guidelines</h2>
                <div class="contact-info">
                    <div class="contact-item">
                        <i class="fas fa-bug"></i>
                        <div>
                            <h3>Be Specific</h3>
                            <p>Describe exactly what happened and what you expected to happen.</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-list-ol"></i>
                        <div>
                            <h3>Include Steps</h3>
                            <p>List the steps to reproduce the issue so we can investigate effectively.</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-desktop"></i>
                        <div>
                            <h3>Browser Info</h3>
                            <p>Let us know which browser and device you're using.</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-camera"></i>
                        <div>
                            <h3>Screenshots</h3>
                            <p>If possible, describe or attach screenshots of the issue.</p>
                        </div>
                    </div>
                </div>

                <div class="social-links">
                    <h3>Alternative Contact</h3>
                    <p style="color: #64748b; margin-bottom: 1rem;">For urgent security issues, contact us directly:</p>
                    <p style="color: #64748b;"><i class="fas fa-envelope"></i> abhishyanthvs7@gmail.com</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="cta section-shell">
    <div class="container">
        <h2>Thank You for Helping Us Improve</h2>
        <p>Your bug reports help us deliver a better experience for everyone.</p>
        <a href="{% url 'index' %}" class="btn btn-primary">Back to Home</a>
    </div>
</section>

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', () => {
    const screenshotInput = document.getElementById("screenshot");
    if (screenshotInput) {
        screenshotInput.addEventListener("change", function() {
            const fileName = this.files[0] ? this.files[0].name : "No file chosen";
            const fileSelected = document.getElementById("file-selected");
            if (fileSelected) {
                fileSelected.innerText = fileName;
            }
        });
    }
});
</script>
{% endblock %}
